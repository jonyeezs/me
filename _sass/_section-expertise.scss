// calculation for section-skills width when print media
$skill-print-left-m: 2%;
$skill-print-table: 73%;
$skill-print-glossary: 35%;
$skill-print-glossary-left-p: 5%;

.section-expertise {
  border-top: $border;
  margin-top: $padded-size;
  padding-top: $padded-size;
}

.expertise-container {
  display: grid;
  grid: {
    template-columns: 1fr repeat(2, 2fr) 1fr;
    template-rows: repeat(4, auto);
  }
}

.expertise-role {
  @extend %common-item-setup;

  grid-column: 1 / span 4;
  grid-row: 1;

  > div {
    @include main-section-heading-text(2vw);
    text-align: center;
  }
}

.expertise-edu {
  @extend %common-item-setup;

  align-content: center;
  display: flex;
  flex-wrap: wrap;
  grid-column: 2 / span 2;
  grid-row: 2;

  > div {
    flex: 1 1 50%;
  }

  .edu-heading {
    @include main-information;
    text-align: left;
  }

  .edu-subtitle {
    @include secondary-information;
    align-self: flex-end;
    text-align: right;

    @media print {
      align-self: auto;
    }
  }

  .edu-fade {
    color: lighten($dark-colour, 20%);
    float: right;
    font-weight: 100;
    padding-right: 2px;
    text-align-last: right;
  }

  @media print {
    .edu-heading {
      font-size: 1em;
    }

    .edu-subtitle {
      font-size: .9em;
    }

    .edu-fade {
      font-size: .8em;
    }
  }
}

.expertise-passion {
  @extend %common-item-setup;

  grid-column: 1 / span 4;
  grid-row: 3;

  .inline-pill-list {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    justify-content: space-between;
    padding: 0 $padded-size;

    > .pill {
      background: $highlight-blue;
      border: rgba($dark-colour, .06) 2px solid;
      border-radius: 20px;
      color: $white;

      font: {
        size: font-size-reduce(2vw) / 4;
        weight: 400;
      }

      @media print {
        font-size: font-size-reduce(2vw) / 2.5;
      }

      letter-spacing: .12em;
      padding: $padded-size - .5%;
      text-transform: uppercase;
    }
  }
}

.expertise-skills {
  @extend %common-item-setup;

  grid-column: 1 / span 4;
  grid-row: 4;

  .open-table {
    border-collapse: collapse;
    margin: 0 auto;
    width: 80%;

    @media print {
      display: inline-block;
      float: left;
      margin-left: $skill-print-left-m;
      width: $skill-print-table;
    }
  }

  .table-heading {
    @include section-emphasis;
    border-left: lighten($dark-colour, 60%) 2px solid;
    padding-left: $padded-size;
    text-align: left;

    @media print {
      font-size: $print-label;
      padding-top: 15px;

      &:first-child {
        padding-top: 0;
      }

      > i {
        display: none;
      }
    }
  }

  .padding {
    &-top {
      padding-top: 10px;

      @media print {
        padding-top: 15px;
      }
    }
    &-right { padding-right: 5px; }
  }

  .shrink {
    white-space: nowrap;
    width: 1px;
  }

  td {
    font-size: font-size-reduce(3vw);

    div {
      display: inline;
      padding: 0 1vw;
    }

    .k8s-icon {
      @include svg-icon('../images/kubernetes.svg');
    }

    .sql-icon {
      @include svg-icon('../images/sql.svg');
    }

    .ngjs-icon {
      @include svg-icon('../images/angularjs.svg');
      background-size: cover;
      height: 1em;
      width: 3em;
    }

    .nginx-icon {
      @include svg-icon('../images/nginx.svg');
      width: 1.5em;
    }
  }

  .drop-bottom {
    line-height: normal;
    vertical-align: text-bottom;
  }

  .glossary-term {
    @include section-emphasis;
  }

  $proficiency-levels: basics capable knowledgeable expert;

  @each $level in $proficiency-levels {
    th[aria-label=#{$level}]:not(:hover) {
       ~ dt[aria-label=#{$level}]
       ~ dd[aria-label=#{$level}] {
         @include visual-hide;
       }
    }
   }
}

.expertise-glossary {
  .glossary-heading {
    font-size: font-size-reduce(4.5vw);
    font-weight: 200;
  }

  .glossary-definition {
    @include section-emphasis;
    font-weight: 200;
  }
}

@media print {
  .expertise-glossary {
    display: inline-block;
    font-style: italic;
    padding-left: $skill-print-glossary-left-p;
    position: absolute;
    right: 0;
    width: $skill-print-glossary;

    .glossary-heading {
      color: lighten($dark-colour, 20%);
      font-size: 9pt;
      margin-bottom: 4px;
      padding-left: 20px;
    }

    .glossary-list {
      margin-top: 4px;
    }

    .glossary-term {
      font-size: 8pt;
      margin: 6px 0 2px;
    }

    .glossary-definition {
      font-size: 6pt;
    }
  }
}
